

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Aalto Mac &mdash; Aalto scientific computing</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="Aalto scientific computing" href="../index.html"/>
        <link rel="up" title="The Aalto environment" href="index.html"/>
        <link rel="next" title="Aalto Windows" href="windows.html"/>
        <link rel="prev" title="Aalto Linux" href="linux.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Aalto scientific computing
          

          
            
            <img src="../_static/aalto.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="welcomeresearchers.html">Welcome, researchers!</a></li>
<li class="toctree-l1"><a class="reference internal" href="welcomestudents.html">Welcome, students!</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news/index.html">News</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Aalto environment</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="account.html">Aalto account</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux.html">Aalto Linux</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Aalto Mac</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#full-disk-encryption">Full disk encryption</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data">Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#software">Software</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dmg-files">.dmg files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aalto-software">Aalto software</a></li>
<li class="toctree-l4"><a class="reference internal" href="#homebrew">Homebrew</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#admin-rights">Admin rights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cs-mac-backup-service">CS Mac backup service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#encryption">Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restore">Restore</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trouble-shooting">Trouble-shooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-problems">Common problems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insane-cpu-rampage-by-usereventagent">Insane CPU rampage by <code class="docutils literal"><span class="pre">UserEventAgent</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Aalto Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="aaltostorage.html">Data storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="aaltodata.html">Data: outline, requesting space, requesting access</a></li>
<li class="toctree-l2"><a class="reference internal" href="datapolicy.html">Science-IT data policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="remoteaccess.html">Remote Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyterhub.html">JupyterHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="remotejupyter.html">Remote Jupyter Notebook on shell servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="paniikki.html">Paniikki: Computer Lab For Students</a></li>
<li class="toctree-l2"><a class="reference internal" href="htcondor.html">HTCondor</a></li>
<li class="toctree-l2"><a class="reference internal" href="git.html">Aalto Gitlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="opensource.html">Open Source at Aalto</a></li>
<li class="toctree-l2"><a class="reference internal" href="matlab_standalone.html">Standalone Matlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="overleaf.html">Overleaf</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data/index.html">Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../triton/index.html">Triton user guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scicomp/index.html">Scientific computing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../training/index.html">Training</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">About these docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Aalto scientific computing</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">The Aalto environment</a> &raquo;</li>
      
    <li>Aalto Mac</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/AaltoScienceIT/scicomp-docs/blob/master/aalto/mac.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="aalto-mac">
<h1>Aalto Mac<a class="headerlink" href="#aalto-mac" title="Permalink to this headline">¶</a></h1>
<p>This page describes the Aalto centrally-managed Mac computers, where
login is via Aalto accounts.  If you have a standalone laptop (one
which does not use your Aalto account), some of this may be relevant,
but for the most part you are on your own and you will access your
data and Aalto resources via <a class="reference internal" href="remoteaccess.html"><em>Remote Access</em></a>.</p>
<p>More instructions: <a class="reference external" href="https://inside.aalto.fi/display/ITServices/Mac">https://inside.aalto.fi/display/ITServices/Mac</a></p>
<div class="section" id="basics">
<h2>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>In the Aalto installations, login is via Aalto account only.</p>
<ul class="simple">
<li>When you get a computer, ask to be made primary user (this should be
default, but it&#8217;s always good to confirm).  This will allow you to
manage the computer and install software.</li>
<li>The first time you login, you must be on an Aalto network (wired or
<code class="docutils literal"><span class="pre">aalto</span></code> wifi) so that the laptop can communicate with Aalto
servers and get your login information.  After this point, you don&#8217;t
need to be on the Aalto network anymore.</li>
<li>Login is via your Aalto account.  The password stays synced when you
connect from an Aalto netowrk.</li>
</ul>
</div>
<div class="section" id="full-disk-encryption">
<h2>Full disk encryption<a class="headerlink" href="#full-disk-encryption" title="Permalink to this headline">¶</a></h2>
<p>This must be enabled per-user, using FileVault.  <strong>You should always
do this, there is no downside.</strong>  On Aalto-managed
laptops, install &#8220;Enable FileVault disk encryption&#8221; (it&#8217;s a custom
Aalto thing that does it for you).  To do this manually, &#8220;Settings →
Privacy → enable File Vault.&#8221;</p>
</div>
<div class="section" id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h2>
<p>You can mount Aalto filesystems by using SMB.  Go to Finder → File or
Go (depending on OS) → Connect
to Server → enter the <code class="docutils literal"><span class="pre">smb://</span></code> URL from the data storage pages.</p>
<p>You can find more information at For generic ways of accessing, see
<a class="reference internal" href="remoteaccess.html"><em>Remote Access</em></a>.  For Aalto data storage locations see
<a class="reference internal" href="aaltostorage.html"><em>Data storage</em></a>, and for the big picture of where and how to store
data see <a class="reference internal" href="aaltodata.html"><em>Data: outline, requesting space, requesting access</em></a>.</p>
<p>The program <code class="docutils literal"><span class="pre">AaltoFileSync</span></code> is pre-installed and can be used to
synchronize files.  But you basically have to set it up yourself.</p>
</div>
<div class="section" id="software">
<h2>Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dmg-files">
<h3>.dmg files<a class="headerlink" href="#dmg-files" title="Permalink to this headline">¶</a></h3>
<p>If you are the primary user, in the Software Center you can install
the program &#8220;Get temporary admin rights&#8221;. This will allow you to become an
administrator for 30 minutes at a time. Then, you can install <code class="docutils literal"><span class="pre">.dmg</span></code>
files yourself.  This is the recommended way of installing <code class="docutils literal"><span class="pre">.dmg</span></code>
files.</p>
</div>
<div class="section" id="aalto-software">
<h3>Aalto software<a class="headerlink" href="#aalto-software" title="Permalink to this headline">¶</a></h3>
<p>There is an application called &#8220;Managed software center&#8221;
pre-installed (or &#8220;Managed software update&#8221; in older versions).  You
can use this to install a wide variety of ready-packaged software.  (<a class="reference external" href="https://inside.aalto.fi/display/ITServices/Mac">ITS
instructions</a>).</p>
</div>
<div class="section" id="homebrew">
<h3>Homebrew<a class="headerlink" href="#homebrew" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://brew.sh">Homebrew</a> is a handy package manager on Macs. On
Aalto Macs, you have to install Brew in your home dir.  Once you
install brew, you can easily instnall whatever you may need.</p>
<p>First install Xcode through Managed Software Centre (either search Xcode, or navigate through Categories -&gt; Productivity -&gt; Xcode).</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c1"># Go to wherever you want to have your Brew and run this</span>
mkdir Homebrew <span class="o">&amp;&amp;</span> curl -L https://github.com/Homebrew/brew/tarball/master <span class="p">|</span> tar xz -C Homebrew --strip 1

<span class="c1"># This is a MUST!!!</span>
<span class="nb">echo</span> <span class="s2">&quot;export PATH=\$PATH:</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/Homebrew/bin&quot;</span> &gt;&gt; ~/.zprofile

<span class="c1"># Reload the profile</span>
<span class="nb">source</span> ~/.zprofile

<span class="c1"># Check if brew is correctly installed.</span>
which brew    <span class="c1"># /Users/username/Homebrew/bin/brew</span>
</pre></div>
</div>
<p>Older versions of MacOS (pre Mojave) use bash as the default shell, therefore you need to setup the environment differently:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">echo</span> <span class="s2">&quot;export PATH=\$PATH:</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/Homebrew/bin&quot;</span> &gt;&gt; ~/.bash_profile

<span class="c1"># Reload the profile</span>
<span class="nb">source</span> ~/.bash_profile
</pre></div>
</div>
</div>
</div>
<div class="section" id="admin-rights">
<h2>Admin rights<a class="headerlink" href="#admin-rights" title="Permalink to this headline">¶</a></h2>
<p>The &#8220;Get temporary admin rights&#8221; program described under .dmg file
installation above lets you get <em>some</em> admin rights - but not full
sudo and all.</p>
<p>You don&#8217;t need full admin rights to install brew.</p>
<p>If you need sudo rights, you need a workstation admin (wa) account.
Contact your department admin for details.</p>
</div>
<div class="section" id="cs-mac-backup-service">
<h2>CS Mac backup service<a class="headerlink" href="#cs-mac-backup-service" title="Permalink to this headline">¶</a></h2>
<p>The CS department provides a full clone-backup service for
Aalto-installation mac computers.  Aalto-installation means the OS is
installed from Aalto repository.</p>
<p>We use Apple <a class="reference external" href="https://en.wikipedia.org/wiki/Time_Machine_(macOS)">Time Machine</a>. Backup is
<strong>wireless, encrypted, automatic, periodic and can be used even
outside the campus</strong> using the <a class="reference internal" href="remoteaccess.html#aalto-vpn"><span>Aalto VPN</span></a>. It is &#8220;clone&#8221;
because we can restore your environment in its entirety. You can think
of it as a snapshot backup(though it isn&#8217;t). We provide twice the
space of your SSD; your Mac has 250GB of space, you get 500GB of
backup space. If you would like to enroll in the program please pay a
visit to our office, T-talo A243.</p>
<div class="section" id="encryption">
<h3>Encryption<a class="headerlink" href="#encryption" title="Permalink to this headline">¶</a></h3>
<p>We provide two options for encryption:</p>
<ol class="arabic simple">
<li>You set your own encryption key and only you know it. <strong>The key is
neither recoverable nor resettable</strong>. You lose it, you lose your
backup.</li>
<li>We set it on behalf of you and only we know it.</li>
</ol>
</div>
<div class="section" id="restore">
<h3>Restore<a class="headerlink" href="#restore" title="Permalink to this headline">¶</a></h3>
<p>With Time Machine you have two options for restore.</p>
<ol class="arabic simple">
<li>Partial<ul>
<li>You can restore file-by-file. Watch the video,</li>
</ul>
</li>
</ol>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/6bcf54aRBPk" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div><ol class="arabic simple" start="2">
<li>Complete restore<ul>
<li>In case your Mac is broken, you can restore completely on a new
Mac. For this, you must visit us.</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="trouble-shooting">
<h3>Trouble-shooting<a class="headerlink" href="#trouble-shooting" title="Permalink to this headline">¶</a></h3>
<div class="section" id="can-t-find-the-backup-destination">
<h4>Can&#8217;t find the backup destination<a class="headerlink" href="#can-t-find-the-backup-destination" title="Permalink to this headline">¶</a></h4>
<p>This happens because either 1). you changed your Aalto password or 2). the server is down. Debug in the following manner,</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c1"># Is the server alive?</span>
ping timemachine.cs.aalto.fi

<span class="c1"># If alive, probably it&#39;s your keychain.</span>
<span class="c1"># Watch the video below.</span>

<span class="c1"># If dead, something&#39;s wrong with the server.</span>
<span class="c1"># Pease contact CS-IT.</span>
</pre></div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/jexhHxZ75w4" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></div>
<div class="section" id="corrupted-backup">
<h4>Corrupted backup<a class="headerlink" href="#corrupted-backup" title="Permalink to this headline">¶</a></h4>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/time-machine-error.png"><img alt="alternate text" src="../_images/time-machine-error.png" style="width: 532.0px; height: 366.0px;" /></a>
</div>
<p>This is an unfortunate situation with an unknown reason. We take a
snapshot of your backup. Please contact CS-IT.</p>
</div>
</div>
</div>
<div class="section" id="common-problems">
<h2>Common problems<a class="headerlink" href="#common-problems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="insane-cpu-rampage-by-usereventagent">
<h3>Insane CPU rampage by <code class="docutils literal"><span class="pre">UserEventAgent</span></code><a class="headerlink" href="#insane-cpu-rampage-by-usereventagent" title="Permalink to this headline">¶</a></h3>
<p>It is a mysterious bug which Apple hasn&#8217;t solved yet. We can reinstall your system for you.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="windows.html" class="btn btn-neutral float-right" title="Aalto Windows" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="linux.html" class="btn btn-neutral" title="Aalto Linux" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Aalto Science-IT.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/redirect-to-https.js"></script>
      <script type="text/javascript" src="https://users.aalto.fi/~darstr1/minipres-stable.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>